# Copilot Instructions for Nitonabbc Info

## プロジェクト概要

**Astroベースの静的Webサイト**で、イベント情報等を提供します。サイトは`src/pages/`以下で**年/月のディレクトリ構造**により時系列で整理されています。

## 開発規約とコミュニケーション

### コード規約

- **コミットメッセージ**：英語で記述
- **コメント**：英語で記述、ただし自明なコメントや変更履歴は追加しない
- **コンソール出力**：英語で統一
- **ファイル管理**：不要なファイルの追加を避ける

### コミュニケーション

- **チャット・レスポンス**：日本語で対応
- **大規模変更**：実装前に慎重な計画立案と確認を実施

新しいページやイベントを追加する際は、確立された年/月構造に従い、独立した\_assetsと\_componentsディレクトリを作成してください。外部メディア操作には必ず型付きAPI関数を使用してください。、イベント情報、スケジュール、写真アルバム、会場案内を提供します。サイトは`src/pages/`以下で**年/月のディレクトリ構造**により時系列で整理されています。

## 主要なアーキテクチャパターン

### 1. 時系列ページ構成

- ページは `src/pages/{year}/{month}/` 構造に従う（例：`2025/05/`, `2024/02/`）
- 各イベント期間は独自の`_assets/`アセットと`_components/`コンポーネントを持つ
- ナビゲーション設定はJSONファイルに保存：`_assets/navigation.json`

### 2. コンポーネント階層

- **レイアウトラッパー**：`src/layouts/Layout.astro` - ベースHTML構造を提供
- **グローバルコンポーネント**：`src/components/` - 全イベントで再利用可能
- **イベント固有コンポーネント**：`src/pages/{year}/{month}/_components/` - そのイベントで利用

### 3. アセット管理

- **ローカルアセット**：`src/pages/{year}/{month}/_assets/` - イベント固有の画像、PDF、スタイル
- **グローバルアセット**：`src/assets/` - 共通の画像、スタイル、スクリプト
- **静的ファイル**：`public/` - Astroの静的ファイルとして提供される

## 開発ワークフロー

### 新規イベント追加

1. `src/pages/{year}/{month}/`ディレクトリを作成
2. 画像・PDF用の`_assets/`とカスタムコンポーネント用の`_components/`を追加
3. グローバル`src/components/`からインポートするイベント固有のHeader/Footerコンポーネントを使用

## 外部依存関係とAPI

### メディアアップロードシステム

- 外部APIエンドポイントは`src/constants/config.ts`で設定
- `ENDPOINT_MEDIA_API`（ファイル操作用）、`ENDPOINT_MEDIA_PATH`（配信用）
- 写真アップロード：`src/scripts/uploadImages.ts`がFormData送信を処理
- ファイル一覧：`src/scripts/fetchFileList.ts`がディレクトリ内容を取得
- `src/types/api.ts`でリクエスト/レスポンス構造の型定義

### サードパーティ統合

- **Astro Icon**：全体で`@iconify-json/mdi`アイコンセットを使用（例：`mdi:menu`、`mdi:photo-camera`）

## プロジェクト固有の規約

### スタイリングアプローチ

- **CSSカスタムプロパティ**：`src/styles/global.css`でセマンティックな色名を定義
- **スコープ付きスタイル**：コンポーネントレベルの`<style>`ブロック、最小限のグローバルスタイル
- **CSSフレームワークなし**：ユーティリティライクなパターンを持つカスタムCSS

### コンポーネントパターン

- **Props型付け**：コンポーネントprops用のTypeScriptインターフェース（`Layout.astro`のLinkTag型参照）
- **アセットインポート**：最適化された画像用にAstroのアセットシステムと`import`文を使用

### データフロー

- **静的生成**：ランタイムデータベースなし、コンテンツはAstroファイルに埋め込み
- **外部メディア**：写真ギャラリーはビルド時に外部APIから取得
- **設定**：APIエンドポイント用の環境変数、ナビゲーション用のJSONファイル

新しいページやイベントを追加する際は、確立された年/月構造に従い、独立した\_assetsと\_componentsディレクトリを作成してください。外部メディア操作には必ず型付きAPI関数を使用してください。
